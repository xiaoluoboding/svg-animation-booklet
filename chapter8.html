<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>
      ✨ SVG 闪烁动画（Blink） | SVG 动画开发实战
    </title>
    <meta name="description" content="专注于有关 SVG 的动画开发，探究 SVG 开发常见动画的原理，站在巨人的肩膀上，借助 GSAP 进行丰富的动画开发。">
    <link rel="stylesheet" href="/assets/style.b9733276.css">
    <link rel="modulepreload" href="/assets/Home.49a67106.js">
    <link rel="modulepreload" href="/assets/app.2e8f5389.js">
    <link rel="modulepreload" href="/assets/chapter8.md.cb395c3a.lean.js">
    <link rel="modulepreload" href="/assets/app.2e8f5389.js">
    
    
  </head>
  <body>
    <div id="app"><!--[--><div class="theme"><header class="nav-bar" data-v-6e7c0b86><div class="sidebar-button" data-v-6e7c0b86><svg class="icon" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z" class></path></svg></div><a class="nav-bar-title" href="/" aria-label="SVG 动画开发实战, back to home" data-v-6e7c0b86 data-v-76c79d52><!----> SVG 动画开发实战</a><div class="flex-grow" data-v-6e7c0b86></div><div class="nav" data-v-6e7c0b86><nav class="nav-links" data-v-6e7c0b86 data-v-f465d38e><!--[--><div class="item" data-v-f465d38e><div class="nav-link" data-v-f465d38e data-v-99f6c566><a class="item" href="/overview" data-v-99f6c566>小册 <!----></a></div></div><div class="item" data-v-f465d38e><div class="nav-link" data-v-f465d38e data-v-99f6c566><a class="item isExternal" href="https://bit.ly/3hLiu4D" target="_blank" rel="noopener noreferrer" data-v-99f6c566>Notion 版本 <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-99f6c566><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="item" data-v-f465d38e><div class="nav-link" data-v-f465d38e data-v-99f6c566><a class="item isExternal" href="https://github.com/xiaoluoboding/monthly" target="_blank" rel="noopener noreferrer" data-v-99f6c566>前端技术栈月刊 <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-99f6c566><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="item" data-v-f465d38e><div class="nav-link" data-v-f465d38e data-v-99f6c566><a class="item isExternal" href="https://github.com/xiaoluoboding/svg-animation-booklet" target="_blank" rel="noopener noreferrer" data-v-99f6c566>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-99f6c566><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><!----></nav></div><!--[--><!--]--></header><aside class="sidebar" data-v-58e261f2><nav class="nav-links nav" data-v-58e261f2 data-v-f465d38e><!--[--><div class="item" data-v-f465d38e><div class="nav-link" data-v-f465d38e data-v-99f6c566><a class="item" href="/overview" data-v-99f6c566>小册 <!----></a></div></div><div class="item" data-v-f465d38e><div class="nav-link" data-v-f465d38e data-v-99f6c566><a class="item isExternal" href="https://bit.ly/3hLiu4D" target="_blank" rel="noopener noreferrer" data-v-99f6c566>Notion 版本 <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-99f6c566><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="item" data-v-f465d38e><div class="nav-link" data-v-f465d38e data-v-99f6c566><a class="item isExternal" href="https://github.com/xiaoluoboding/monthly" target="_blank" rel="noopener noreferrer" data-v-99f6c566>前端技术栈月刊 <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-99f6c566><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><div class="item" data-v-f465d38e><div class="nav-link" data-v-f465d38e data-v-99f6c566><a class="item isExternal" href="https://github.com/xiaoluoboding/svg-animation-booklet" target="_blank" rel="noopener noreferrer" data-v-99f6c566>GitHub <svg class="icon outbound" xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewbox="0 0 100 100" width="15" height="15" data-v-99f6c566><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path><polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></div></div><!--]--><!----><!----></nav><!--[--><!--]--><ul class="sidebar-links" data-v-58e261f2><!--[--><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="/overview" data-v-58e261f2>📖 小册介绍</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="/chapter1" data-v-58e261f2>📋 SVG 基本介绍</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="/chapter2" data-v-58e261f2>📃 SVG 文件输出</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="/chapter3" data-v-58e261f2>🚀 SVG 文件优化</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="/chapter4" data-v-58e261f2>🪀 使用 GreenSock 制作动画</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="/chapter5" data-v-58e261f2>✏️ SVG 描边动画（Stroke)</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="/chapter6" data-v-58e261f2>〰️ SVG 路径动画（Path）</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="/chapter7" data-v-58e261f2>⭐ SVG 变形动画（Morphing）</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item active" href="/chapter8" data-v-58e261f2>✨ SVG 闪烁动画 (Blink)</a><ul class="sidebar-links" data-v-58e261f2><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#演示" data-v-58e261f2>演示</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#原理" data-v-58e261f2>原理</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#实战" data-v-58e261f2>实战</a><ul class="sidebar-links" data-v-58e261f2><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#css-实现-blink-动画" data-v-58e261f2>CSS 实现 Blink 动画</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#svg-实现-blink-动画" data-v-58e261f2>SVG 实现 Blink 动画</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#gsap-实现闪烁动画" data-v-58e261f2>GSAP 实现闪烁动画</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#复用-svg-图形、动画" data-v-58e261f2>复用 SVG 图形、动画</a><!----></li></ul></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="#参考" data-v-58e261f2>参考</a><!----></li></ul></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="/chapter9" data-v-58e261f2>🖼️ SVG 图案动画（Pattern）</a><!----></li><li class="sidebar-link" data-v-58e261f2 data-v-58e261f2><a class="sidebar-link-item" href="/chapter10" data-v-58e261f2>🤟 Vue + GSAP 实战</a><!----></li><!--]--></ul><!--[--><!--]--></aside><!-- TODO: make this button accessible --><div class="sidebar-mask"></div><main class="page" data-v-d36a7fda><div class="container" data-v-d36a7fda><!--[--><!--]--><div class="content" data-v-d36a7fda><div data-v-d36a7fda><h1 id="✨-svg-闪烁动画（blink）"><a class="header-anchor" href="#✨-svg-闪烁动画（blink）" aria-hidden="true">#</a> ✨ SVG 闪烁动画（Blink）</h1><h2 id="演示"><a class="header-anchor" href="#演示" aria-hidden="true">#</a> 演示</h2><p>人类的视觉比较容易被变化所吸引，尤其是颜色的变化。像上世纪 80 年代的霓虹灯广告牌，我很难不被它所吸引。</p><p><img src="/assets/chapter8-1.e2928248.gif" alt="chapter8-1"></p><h2 id="原理"><a class="header-anchor" href="#原理" aria-hidden="true">#</a> 原理</h2><p>闪烁动画效果的核心在于控制元素颜色的变化，掌握好时间的控制，让颜色的变化有引人注目的显示，这样在静态的页面中，自然会吸引住用户的眼球。</p><h2 id="实战"><a class="header-anchor" href="#实战" aria-hidden="true">#</a> 实战</h2><p>下面会使用三种方法编写一个闪烁动画：</p><h3 id="css-实现-blink-动画"><a class="header-anchor" href="#css-实现-blink-动画" aria-hidden="true">#</a> CSS 实现 Blink 动画</h3><p>CSS 动画也可以实现各种类型的闪烁效果，比如让整个元素进行不断的 <code>显示/隐藏</code> 切换（通过 <code>display</code> 属性），不过最好不要这么做，这会导致浏览器进行回流，有一定的性能开销；或者通过控制颜色的透明度（<code>opacity</code> 属性），文字的闪烁效果可以通过控制颜色的变化（<code>color</code> 属性）等等。下面看一个闪烁动画实例：</p><iframe height="160" style="width:100%;" scrolling="no" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen src="https://codepen.io/xiaoluoboding/embed/oNjREQr?height=160&amp;theme-id=light&amp;default-tab=result" title="Text Blink" data-v-d36a7fda data-v-5fe60b72>
    See the Pen &lt;a :href=&#39;href&#39;&gt;{{title}}&lt;/a&gt; by xiaoluoboding
    (&lt;a href=&#39;https://codepen.io/xiaoluoboding&#39;&gt;@xiaoluoboding&lt;/a&gt;) on &lt;a href=&#39;https://codepen.io&#39;&gt;CodePen&lt;/a&gt;.
  </iframe><p>这段动画实现了让文字过渡到透明，但是会生硬的变回原来的颜色，不过它足够**“闪烁“，<strong>如何让颜色过渡更平滑呢</strong>，实际上**闪烁动画搭配 <code>animation-direction</code> 属性使用效果会更好，<code>animation-direction</code> 属性如何设置为 <code>alternate</code> 或者 <code>alternate-reverse</code>（默认为 normal）时， 它的作用是会让动画增加一个循环周期，这时需要把 <code>animation-duration</code> （动画时长）减半，才能达到预期的效果。</p><iframe height="160" style="width:100%;" scrolling="no" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen src="https://codepen.io/xiaoluoboding/embed/Baoerwm?height=160&amp;theme-id=light&amp;default-tab=result" title="Text Smooth Blink" data-v-d36a7fda data-v-5fe60b72>
    See the Pen &lt;a :href=&#39;href&#39;&gt;{{title}}&lt;/a&gt; by xiaoluoboding
    (&lt;a href=&#39;https://codepen.io/xiaoluoboding&#39;&gt;@xiaoluoboding&lt;/a&gt;) on &lt;a href=&#39;https://codepen.io&#39;&gt;CodePen&lt;/a&gt;.
  </iframe><h3 id="svg-实现-blink-动画"><a class="header-anchor" href="#svg-实现-blink-动画" aria-hidden="true">#</a> SVG 实现 Blink 动画</h3><p><code>SVG SMIL Animation</code> 同样也能实现对图形的闪烁效果，通过声明 <code>attributeName</code> 为 <code>fill</code> ，指定想要变化的颜色。设定动画时长，就会让 SVG 图形闪烁起来。核心代码：</p><div class="language-html"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>polygon</span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#4fd2dd<span class="token punctuation">&quot;</span></span> <span class="token attr-name">points</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>6,66 6,18 12,12 18,12 24,6 27,6 30,9 36,9 39,6 84,6 81,9 75,9 73.2,7 40.8,7 37.8,10.2 24,10.2 12,21 12,24 9,27 9,51 7.8,54 7.8,63<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>animate</span>
    <span class="token attr-name">attributeName</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>fill<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">values</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#4fd2dd;#235fa7;#4fd2dd<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">dur</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0.5s<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">begin</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0s<span class="token punctuation">&quot;</span></span>
    <span class="token attr-name">repeatCount</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>indefinite<span class="token punctuation">&quot;</span></span>
  <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>polygon</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>上述代码指定了 polygon 折线会按以下颜色顺序进行颜色的无限循环变化，产生闪烁效果</p><p><img src="/assets/chapter8-2.a445a0c8.png" alt="chapter8-2"></p><iframe height="200" style="width:100%;" scrolling="no" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen src="https://codepen.io/xiaoluoboding/embed/XWmNYyr?height=200&amp;theme-id=light&amp;default-tab=result" title="Blink Border" data-v-d36a7fda data-v-5fe60b72>
    See the Pen &lt;a :href=&#39;href&#39;&gt;{{title}}&lt;/a&gt; by xiaoluoboding
    (&lt;a href=&#39;https://codepen.io/xiaoluoboding&#39;&gt;@xiaoluoboding&lt;/a&gt;) on &lt;a href=&#39;https://codepen.io&#39;&gt;CodePen&lt;/a&gt;.
  </iframe><p>通过给每条折线指定一个动画设定，那么就可以让多条折线一起闪烁起来，形成一个组合动画。</p><h3 id="gsap-实现闪烁动画"><a class="header-anchor" href="#gsap-实现闪烁动画" aria-hidden="true">#</a> GSAP 实现闪烁动画</h3><p>继续沿用上例 SVG 闪烁边框，如何使用 GSAP 让边框闪烁起来呢，例子中的边框有三条 polygon ，我们注意到三条折线是同时进行闪烁动画的，每条折线都有自己的动画设定。所以在 GSAP 中我们不能使用 timeline，动画不是线性的，而是并行的。</p><p>我们先给折线定义好 <code>id</code> 属性</p><div class="language-html"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gs-border-blink<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">width</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300px<span class="token punctuation">&quot;</span></span> <span class="token attr-name">height</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>300px<span class="token punctuation">&quot;</span></span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>left-top<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>polygon</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>line1<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#4fd2dd<span class="token punctuation">&quot;</span></span> <span class="token attr-name">points</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>6,66 6,18 12,12 18,12 24,6 27,6 30,9 36,9 39,6 84,6 81,9 75,9 73.2,7 40.8,7 37.8,10.2 24,10.2 12,21 12,24 9,27 9,51 7.8,54 7.8,63<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span> <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>polygon</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>polygon</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>line2<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#235fa7<span class="token punctuation">&quot;</span></span> <span class="token attr-name">points</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>27.599999999999998,4.8 38.4,4.8 35.4,7.8 30.599999999999998,7.8<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>polygon</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>polygon</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>line3<span class="token punctuation">&quot;</span></span> <span class="token attr-name">fill</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#4fd2dd<span class="token punctuation">&quot;</span></span> <span class="token attr-name">points</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>9,54 9,63 7.199999999999999,66 7.199999999999999,75 7.8,78 7.8,110 8.4,110 8.4,66 9.6,66 9.6,54<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>polygon</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>开始动画咯</p><div class="language-js"><pre><code><span class="token comment">// line 1, #4fd2dd -&gt; #235fa7 -&gt; #4fd2dd</span>
gsap
  <span class="token punctuation">.</span><span class="token function">to</span><span class="token punctuation">(</span><span class="token string">&#39;#line1&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    fill<span class="token operator">:</span><span class="token string">&#39;#235fa7&#39;</span><span class="token punctuation">,</span>
    repeat<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>
    yoyo<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    duration<span class="token operator">:</span> <span class="token number">0.25</span><span class="token punctuation">,</span>
    repeatDelay<span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
gsap
  <span class="token punctuation">.</span><span class="token function">to</span><span class="token punctuation">(</span><span class="token string">&#39;#line1&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    fill<span class="token operator">:</span><span class="token string">&#39;#4fd2dd&#39;</span><span class="token punctuation">,</span>
    repeat<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>
    yoyo<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    duration<span class="token operator">:</span> <span class="token number">0.25</span><span class="token punctuation">,</span>
    repeatDelay<span class="token operator">:</span> <span class="token number">0.25</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>

<span class="token comment">// line 2, #235fa7 -&gt; #4fd2dd</span>
gsap
  <span class="token punctuation">.</span><span class="token function">to</span><span class="token punctuation">(</span><span class="token string">&#39;#line2&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    fill<span class="token operator">:</span><span class="token string">&#39;#4fd2dd&#39;</span><span class="token punctuation">,</span>
    repeat<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>
    yoyo<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    duration<span class="token operator">:</span> <span class="token number">0.3</span><span class="token punctuation">,</span>
    repeatDelay<span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
  
<span class="token comment">// line 3, #4fd2dd -&gt; transparent -&gt; #235fa7</span>
gsap
  <span class="token punctuation">.</span><span class="token function">to</span><span class="token punctuation">(</span><span class="token string">&#39;#line3&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    fill<span class="token operator">:</span><span class="token string">&#39;transparent&#39;</span><span class="token punctuation">,</span>
    repeat<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>
    yoyo<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    duration<span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
    repeatDelay<span class="token operator">:</span> <span class="token number">0</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
gsap
  <span class="token punctuation">.</span><span class="token function">to</span><span class="token punctuation">(</span><span class="token string">&#39;#line3&#39;</span><span class="token punctuation">,</span> <span class="token punctuation">{</span>
    fill<span class="token operator">:</span><span class="token string">&#39;#235fa7&#39;</span><span class="token punctuation">,</span>
    repeat<span class="token operator">:</span> <span class="token operator">-</span><span class="token number">1</span><span class="token punctuation">,</span>
    yoyo<span class="token operator">:</span> <span class="token boolean">true</span><span class="token punctuation">,</span>
    duration<span class="token operator">:</span> <span class="token number">0.5</span><span class="token punctuation">,</span>
    repeatDelay<span class="token operator">:</span> <span class="token number">0.3</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">;</span>
</code></pre></div><h3 id="复用-svg-图形、动画"><a class="header-anchor" href="#复用-svg-图形、动画" aria-hidden="true">#</a> 复用 SVG 图形、动画</h3><p>想象一下，我们有了一个位于左上角的边框动画，只需通过 CSS 控制让整个形状翻转，就会得到右上角、左下角、右下角的边框，四组边框就会构成一个大的边框动画。</p><p><img src="/assets/chapter8-3.267d2a57.png" alt="chapter8-3"></p><p>左上角边框</p><p><img src="/assets/chapter8-4.53e61d21.png" alt="chapter8-4"></p><p>完整边框</p><p>但是我们的 SVG 代码需要有四个组，实际上四个组的形状和动画是完全相同的。那有什么好的方法可以复用一组代码呢，还好，SVG 提供了 <code>defs</code> 以及 <code>use</code> 标签用于解决这样的问题。</p><p>MDN 上的 SVG defs 解释是这样的：</p><blockquote><p>The <code>&lt;defs&gt;</code> element is used to store graphical objects that will be used at a later time. Objects created inside a <code>&lt;defs&gt;</code> element are not rendered directly. To display them you have to reference them (with a <code>&lt;use&gt;</code> element for example).</p></blockquote><p>复用 SVG 图形：</p><p>1、首先给 SVG 图形分组为 <code>blink-border</code> ，并且包裹在 <code>defs</code> 标签下</p><div class="language-html"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>gs-border-blink<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">viewBox</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>0 0 320 180<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>defs</span><span class="token punctuation">&gt;</span></span>
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>g</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>blink-border<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
        ... polygons
      <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>g</span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>defs</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>2、使用 <code>use</code> 标签引用声明好的图形，定义好 class</p><div class="language-html"><pre><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>left-top<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>use</span> <span class="token attr-name"><span class="token namespace">xlink:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#blink-border<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>right-top<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>use</span> <span class="token attr-name"><span class="token namespace">xlink:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#blink-border<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>left-bottom<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>use</span> <span class="token attr-name"><span class="token namespace">xlink:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#blink-border<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>svg</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>right-bottom<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>use</span> <span class="token attr-name"><span class="token namespace">xlink:</span>href</span><span class="token attr-value"><span class="token punctuation attr-equals">=</span><span class="token punctuation">&quot;</span>#blink-border<span class="token punctuation">&quot;</span></span> <span class="token punctuation">/&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>svg</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>3、编写翻转样式</p><div class="language-css"><pre><code><span class="token selector">.gs-border-blink</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> relative<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.left-top</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.right-top</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">top</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotateY</span><span class="token punctuation">(</span>180deg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.left-bottom</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">left</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotateX</span><span class="token punctuation">(</span>180deg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>

<span class="token selector">.right-bottom</span> <span class="token punctuation">{</span>
  <span class="token property">position</span><span class="token punctuation">:</span> absolute<span class="token punctuation">;</span>
  <span class="token property">right</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">bottom</span><span class="token punctuation">:</span> 0<span class="token punctuation">;</span>
  <span class="token property">transform</span><span class="token punctuation">:</span> <span class="token function">rotateX</span><span class="token punctuation">(</span>180deg<span class="token punctuation">)</span> <span class="token function">rotateY</span><span class="token punctuation">(</span>180deg<span class="token punctuation">)</span><span class="token punctuation">;</span>
<span class="token punctuation">}</span>
</code></pre></div><p>这样一个可缩放、响应式的闪烁边框动画就完成了。</p><iframe height="480" style="width:100%;" scrolling="no" frameborder="no" loading="lazy" allowtransparency="true" allowfullscreen src="https://codepen.io/xiaoluoboding/embed/oNjZLoB?height=480&amp;theme-id=light&amp;default-tab=result" title="GSAP Blink Border" data-v-d36a7fda data-v-5fe60b72>
    See the Pen &lt;a :href=&#39;href&#39;&gt;{{title}}&lt;/a&gt; by xiaoluoboding
    (&lt;a href=&#39;https://codepen.io/xiaoluoboding&#39;&gt;@xiaoluoboding&lt;/a&gt;) on &lt;a href=&#39;https://codepen.io&#39;&gt;CodePen&lt;/a&gt;.
  </iframe><p>总结一下：编写闪烁动画并不难，我们有多个方法可以使用。但是每种方法核心使用到的属性其实概念都差不多，看一下三种方法的对比：</p><table><thead><tr><th style="text-align:center;">#</th><th style="text-align:left;">duration</th><th style="text-align:left;">repeat</th><th style="text-align:left;">delay</th><th style="text-align:left;">direction</th></tr></thead><tbody><tr><td style="text-align:center;">CSS Property</td><td style="text-align:left;">animation-duration</td><td style="text-align:left;">animation-iteration-count</td><td style="text-align:left;">animation-delay</td><td style="text-align:left;">animation-direction</td></tr><tr><td style="text-align:center;">SMIL</td><td style="text-align:left;">dur</td><td style="text-align:left;">repeatCount</td><td style="text-align:left;">begin</td><td style="text-align:left;">from, to</td></tr><tr><td style="text-align:center;">GSAP</td><td style="text-align:left;">duration</td><td style="text-align:left;">repeat</td><td style="text-align:left;">delay</td><td style="text-align:left;">yoyo</td></tr></tbody></table><h2 id="参考"><a class="header-anchor" href="#参考" aria-hidden="true">#</a> 参考</h2><ul><li><a href="https://developer.mozilla.org/en-US/docs/Web/CSS/animation" target="_blank" rel="noopener noreferrer">https://developer.mozilla.org/en-US/docs/Web/CSS/animation</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/SVG/SVG_animation_with_SMIL" target="_blank" rel="noopener noreferrer">https://developer.mozilla.org/en-US/docs/Web/SVG/SVG_animation_with_SMIL</a></li><li><a href="https://developer.mozilla.org/en-US/docs/Web/SVG/Element/defs" target="_blank" rel="noopener noreferrer">https://developer.mozilla.org/en-US/docs/Web/SVG/Element/defs</a></li></ul></div></div><footer class="page-footer" data-v-d36a7fda data-v-5a019cc9><div class="edit" data-v-5a019cc9><div class="edit-link" data-v-5a019cc9 data-v-fb0131f2><!----></div></div><div class="updated" data-v-5a019cc9><!----></div></footer><div class="next-and-prev-link" data-v-d36a7fda data-v-6683615c><div class="container" data-v-6683615c><div class="prev" data-v-6683615c><a class="link" href="/chapter7" data-v-6683615c><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-prev" data-v-6683615c><path d="M19,11H7.4l5.3-5.3c0.4-0.4,0.4-1,0-1.4s-1-0.4-1.4,0l-7,7c-0.1,0.1-0.2,0.2-0.2,0.3c-0.1,0.2-0.1,0.5,0,0.8c0.1,0.1,0.1,0.2,0.2,0.3l7,7c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3c0.4-0.4,0.4-1,0-1.4L7.4,13H19c0.6,0,1-0.4,1-1S19.6,11,19,11z"></path></svg><span class="text" data-v-6683615c>⭐ SVG 变形动画（Morphing）</span></a></div><div class="next" data-v-6683615c><a class="link" href="/chapter9" data-v-6683615c><span class="text" data-v-6683615c>🖼️ SVG 图案动画（Pattern）</span><svg xmlns="http://www.w3.org/2000/svg" viewbox="0 0 24 24" class="icon icon-next" data-v-6683615c><path d="M19.9,12.4c0.1-0.2,0.1-0.5,0-0.8c-0.1-0.1-0.1-0.2-0.2-0.3l-7-7c-0.4-0.4-1-0.4-1.4,0s-0.4,1,0,1.4l5.3,5.3H5c-0.6,0-1,0.4-1,1s0.4,1,1,1h11.6l-5.3,5.3c-0.4,0.4-0.4,1,0,1.4c0.2,0.2,0.5,0.3,0.7,0.3s0.5-0.1,0.7-0.3l7-7C19.8,12.6,19.9,12.5,19.9,12.4z"></path></svg></a></div></div></div><!--[--><!--]--></div></main></div><!----><!--]--></div>
    <script>__VP_HASH_MAP__ = JSON.parse("{\"chapter1.md\":\"242c27dc\",\"chapter10.md\":\"d21b1e49\",\"chapter2.md\":\"ffd363eb\",\"chapter3.md\":\"9677ab8c\",\"chapter4.md\":\"32614f50\",\"chapter5.md\":\"df64259e\",\"chapter6.md\":\"010dae96\",\"chapter7.md\":\"22ebcf7b\",\"chapter8.md\":\"cb395c3a\",\"chapter9.md\":\"e1d926f2\",\"index.md\":\"58741e51\",\"overview.md\":\"61d6dae3\"}")</script>
    <script type="module" async src="/assets/app.2e8f5389.js"></script>
  </body>
</html>